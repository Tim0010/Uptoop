# ğŸ”¥ Firebase Setup Guide - Uptop Careers

## ğŸ“‹ Prerequisites

Before starting, make sure you have:
- âœ… Flutter SDK installed
- âœ… Firebase account (https://firebase.google.com)
- âœ… Firebase CLI installed (`npm install -g firebase-tools`)
- âœ… FlutterFire CLI installed (`dart pub global activate flutterfire_cli`)

## ğŸ¯ Step 1: Register Your App in Firebase Console

### For iOS App:

1. **Go to Firebase Console** â†’ Your Project â†’ Add App â†’ iOS
2. **Fill in the details:**
   - **Apple bundle ID**: `com.example.uptop_careers` (or your custom bundle ID)
   - **App nickname (optional)**: `uptop-career`
   - **App Store ID (optional)**: Leave blank for now

3. **Download `GoogleService-Info.plist`**
4. **Add to your iOS project:**
   - Open Xcode: `open ios/Runner.xcworkspace`
   - Drag `GoogleService-Info.plist` into `Runner` folder
   - Make sure "Copy items if needed" is checked
   - Select `Runner` target

### For Android App:

1. **Go to Firebase Console** â†’ Your Project â†’ Add App â†’ Android
2. **Fill in the details:**
   - **Android package name**: `com.example.uptop_careers`
   - **App nickname (optional)**: `uptop-career`
   - **Debug signing certificate SHA-1**: (Optional, needed for Google Sign-In)

3. **Download `google-services.json`**
4. **Add to your Android project:**
   - Place file in `android/app/` directory

## ğŸš€ Step 2: Install Firebase Dependencies

Add Firebase packages to your `pubspec.yaml`:

```yaml
dependencies:
  # Core Firebase
  firebase_core: ^3.8.1
  
  # Firebase services (add as needed)
  firebase_auth: ^5.3.3
  cloud_firestore: ^5.5.2
  firebase_storage: ^12.3.8
  firebase_messaging: ^15.1.8
  firebase_analytics: ^11.3.8
  
  # Existing dependencies...
```

Run:
```bash
flutter pub get
```

## ğŸ”§ Step 3: Configure Android

### 3.1 Update `android/build.gradle.kts`

Add Google services plugin to buildscript:

```kotlin
buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath("com.google.gms:google-services:4.4.2")
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}
```

### 3.2 Update `android/app/build.gradle.kts`

Add plugin at the top:

```kotlin
plugins {
    id("com.android.application")
    id("kotlin-android")
    id("dev.flutter.flutter-gradle-plugin")
    id("com.google.gms.google-services")  // ADD THIS
}
```

Update minSdk to 21 (Firebase requirement):

```kotlin
defaultConfig {
    applicationId = "com.example.uptop_careers"
    minSdk = 21  // Firebase requires minimum SDK 21
    targetSdk = flutter.targetSdkVersion
    versionCode = flutter.versionCode
    versionName = flutter.versionName
}
```

## ğŸ Step 4: Configure iOS

### 4.1 Update `ios/Podfile`

Ensure platform is iOS 13.0 or higher:

```ruby
platform :ios, '13.0'
```

### 4.2 Install Pods

```bash
cd ios
pod install
cd ..
```

## ğŸ’» Step 5: Initialize Firebase in Your App

Update `lib/main.dart`:

```dart
import 'package:firebase_core/firebase_core.dart';
import 'firebase_options.dart'; // Generated by FlutterFire CLI

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // Initialize Firebase
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );
  
  // Initialize your providers
  final paymentProvider = PaymentProvider();
  await paymentProvider.initialize();
  
  runApp(
    MultiProvider(
      providers: [
        ChangeNotifierProvider.value(value: paymentProvider),
        // ... other providers
      ],
      child: MyApp(),
    ),
  );
}
```

## ğŸ› ï¸ Step 6: Generate Firebase Options (Recommended Method)

Use FlutterFire CLI to automatically configure Firebase:

```bash
# Login to Firebase
firebase login

# Configure FlutterFire
flutterfire configure
```

This will:
- Create `lib/firebase_options.dart`
- Download configuration files
- Set up Firebase for all platforms

## âœ… Step 7: Verify Installation

Create a test file to verify Firebase is working:

```dart
import 'package:firebase_core/firebase_core.dart';

Future<void> testFirebase() async {
  try {
    await Firebase.initializeApp();
    print('âœ… Firebase initialized successfully!');
  } catch (e) {
    print('âŒ Firebase initialization failed: $e');
  }
}
```

## ğŸ“± Step 8: Enable Firebase Services

### Firestore Database
1. Go to Firebase Console â†’ Firestore Database
2. Click "Create database"
3. Choose production mode or test mode
4. Select location

### Authentication
1. Go to Firebase Console â†’ Authentication
2. Click "Get started"
3. Enable sign-in methods (Email/Password, Google, etc.)

### Storage
1. Go to Firebase Console â†’ Storage
2. Click "Get started"
3. Set up security rules

## ğŸ” Security Rules

### Firestore Rules (for testing):
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

### Storage Rules (for testing):
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

## ğŸ¯ Your App Details

Based on your screenshot:
- **Apple bundle ID**: `com.company.appname` (update to your actual bundle ID)
- **App nickname**: `uptop-career`
- **App Store ID**: `123456789` (optional, add when you publish)

## ğŸ“ Next Steps

1. âœ… Register app in Firebase Console
2. âœ… Download config files (`GoogleService-Info.plist`, `google-services.json`)
3. âœ… Add Firebase dependencies
4. âœ… Configure Android & iOS
5. âœ… Initialize Firebase in main.dart
6. âœ… Enable required Firebase services
7. âœ… Test Firebase connection

## ğŸš¨ Common Issues

### Issue: "Default FirebaseApp is not initialized"
**Solution**: Make sure `Firebase.initializeApp()` is called before any Firebase service

### Issue: "Minimum SDK version error"
**Solution**: Update `minSdk` to 21 in `android/app/build.gradle.kts`

### Issue: "GoogleService-Info.plist not found"
**Solution**: Make sure file is added to Xcode project, not just copied to folder

### Issue: "google-services.json not found"
**Solution**: Place file in `android/app/` directory

## ğŸ“ Support

For more help:
- Firebase Documentation: https://firebase.google.com/docs/flutter/setup
- FlutterFire: https://firebase.flutter.dev

---

**Ready to integrate Firebase!** ğŸš€

